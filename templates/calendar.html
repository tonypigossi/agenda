{% load static %}

<link href="{% static 'fullcalendar/core/main.css' %}" rel='stylesheet' />
<link href="{% static 'fullcalendar/daygrid/main.css' %}" rel='stylesheet' />
<link href="{% static 'fullcalendar/timegrid/main.css' %}" rel='stylesheet' />
<link href="{% static 'fullcalendar/bootstrap/main.css' %}" rel='stylesheet' />
<link href="{% static 'fullcalendar/list/main.css' %}" rel='stylesheet' />

<script src='../static/fullcalendar/core/main.js'></script>
<script src='../static/fullcalendar/interaction/main.js'></script>
<script src='../static/fullcalendar/daygrid/main.js'></script>
<script src='../static/fullcalendar/timegrid/main.js'></script>
<script src='../static/fullcalendar/list/main.js'></script>
<script src='../static/fullcalendar/bootstrap/main.js'></script>
<script src='../static/fullcalendar/theme-chooser.js'></script>

<!-- CALENDAR -->
<script src='../static/fullcalendar/core/pt-br.js'></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      locale: 'pt-br',
      plugins: [ 'bootstrap', 'interaction', 'dayGrid', 'timeGrid', 'list' ],
      themeSystem: ' ',
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
      },
      defaultDate: Date.auto_now,
      navLinks: true, // can click day/week names to navigate views
      selectable: true,
      editable: true,
      selectMirror: false,
      select: function(arg) {

        // var title = prompt('Event Title:');
        // if (title) {
        //   calendar.addEvent({
        //     title: title,
        //     start: arg.start,
        //     end: arg.end,
        //     allDay: arg.allDay
        //   })
        //let date = new Date(arg.start, 'yyyy-MM-dd');
        //alert(date);
        //alert("evento/create/?date=" + arg.start.format();
        window.location.href = "evento/create/?date=" + calendar.formatIso(arg.start);

        //}
        //calendar.unselect()
      },
      editable: false,
      eventLimit: true, // allow "more" link when too many events
      events: [
        {% for evento in eventos %}
            {
                title: '{{ evento.titulo }}',
                start: '{{ evento.get_data_evento_input }}',
                // color: '#ff9f89',
            },
        {% endfor %}
      ]
    });
    calendar.render();
  });
</script>
<style>

  /* body {
    margin: 10px 10px;
    padding: 0;
    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
    font-size: 14px;
  } */

  #calendar {
    max-width: 100%;
  }
</style>

 <div id='calendar'></div>
